{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{TextField,Typography,Grid,Button}from'@material-ui/core';import{Card,CardMedia,CardContent,CardActions,IconButton,Paper}from'@material-ui/core';import DeleteIcon from'@material-ui/icons/Delete';import Navbar from'../../COMPONENTS/Navbar/Navbar';import{api}from'../../COMPONENTS/axiosSetup';import EditIcon from'@material-ui/icons/Edit';import SaveIcon from'@material-ui/icons/Save';import CloseIcon from'@material-ui/icons/Close';import{Edit}from'@material-ui/icons';import EditForm from'./EditForm';import NormalState from'./NormalState';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MaamulBadeeco(){if(sessionStorage.getItem('role')=='admin'){}else{window.location.replace('/');}var _useState=useState(0),_useState2=_slicedToArray(_useState,2),q=_useState2[0],setQ=_useState2[1];function importAll(r){var images={};r.keys().map(function(item,index){images[item.replace('./','')]=r(item);});return images;}var images=importAll(require.context('../../IMAGES',false,/\\.(png|jpe?g|svg)$/));var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];function getProducts(){return _getProducts.apply(this,arguments);}function _getProducts(){_getProducts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get('/get/maamul/badeeco');case 2:_context.next=4;return _context.sent.data;case 4:data=_context.sent;setProducts(data);case 6:case\"end\":return _context.stop();}}},_callee);}));return _getProducts.apply(this,arguments);}useEffect(function(){getProducts();},[]);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showForm=_useState6[0],setShowForm=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),targetProduct=_useState8[0],setTargetProduct=_useState8[1];function filterProducts(id){var newProduct=products.filter(function(product){return product.id==id;});setTargetProduct(newProduct);}var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),alertM=_useState10[0],setAlertM=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),targetId=_useState12[0],setTargetId=_useState12[1];function deleteProduct(_x){return _deleteProduct.apply(this,arguments);}// function EditForm(){\n//   return (\n//     <Grid item xs={12} sm={12 } style={{display:\"flex\", padding:'10px', justifyContent:'center'}}>\n//         <Card style={{display:'flex', width:'100vw', height:'100px', padding:'10px', justifyContent:'center', alignItems:'center'}}>\n//             <div>\n//     <input value={magac} onChange={(e)=>{\n//         setMagac(e.target.value)\n//     }} type=\"text\" style={{width:'200px', height:'40px', fontSize:'20px', borderRadius:'20px', padding:'9px'}} />\n//     <input value={price} onChange={(e)=>{\n//         setPrice(e.target.value)\n//     }}  type=\"number\" style={{width:'70px', margin:'4px 10px', fontSize:'20px',  height:'27px', padding:'9px'}}  />\n//             </div>\n//     <div>\n//     <SaveIcon style={{cursor:'pointer'}} onClick={()=>{\n//         saveUpdates()\n//     }} />\n//     </div>\n//         </Card>\n//     </Grid>\n//   )\n// }\n// function NormalState({ product }){\n//     return (\n//         <Grid item xs={12} sm={12 } style={{display:\"flex\", padding:'10px', justifyContent:'center'}}>\n//         <Card style={{display:\"flex\", justifyContent:'space-around', alignItems:'center', padding:'5px', minWidth:'490px'}}>\n//         <img src={images[product.image]} alt=\"\" style={{width:\"100px\", height:'100px', borderRadius:'50%', marginLeft:'30px'}} />\n//         <Typography variant='h5'>{product.magac}</Typography> <br />\n//         <Typography variant='h4'>${product.price}</Typography>\n//         <EditIcon style={{cursor:'pointer', fontSize:'30px', color:'blue'}} onClick={()=>{\n//             setShowForm(true)\n//             filterProducts(product.id)\n//             setTargetId(Number(product.id))\n//         }} /> <br />\n//         <DeleteIcon style={{cursor:'pointer', color:'red', fontSize:'30px'}} onClick={()=>{\n//             deleteProduct(Number(product.id))\n//         }} />\n//         </Card>\n//     </Grid>\n//     )\n// }\nfunction _deleteProduct(){_deleteProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var data,_newList;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.patch('/delete/maamul/badeeco/tirtir',{id:id});case 2:data=_context2.sent;if(data.status){_newList=products.filter(function(product){return product.id!=id;});setProducts(_newList);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteProduct.apply(this,arguments);}var newList=targetProduct.length>=1?targetProduct:products;console.log(targetProduct);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{style:{margin:'3px'},children:/*#__PURE__*/_jsxs(Grid,{container:true,align:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,children:alertM&&/*#__PURE__*/_jsxs(Paper,{style:{width:'180px',height:'90px',position:'absolute',right:'30px',padding:'10px',display:'flex',justifyContent:'center',alignItems:'center',background:'red',color:'white'},align:\"center\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{alignSelf:'flex-end',justifyContent:'flex-start'},children:\"WAA LAGU GUULDAREYSTAY KEYDINTA ISBADALKA CUSUB.\"}),\" \",/*#__PURE__*/_jsx(CloseIcon,{onClick:function onClick(){return setAlertM(false);},titleAccess:\"xir\",style:{background:'red',alignSelf:'flex-start',cursor:'pointer'}}),\" \"]})}),newList.map(function(product){return!showForm?/*#__PURE__*/_jsx(NormalState,{setShowForm:setShowForm,deleteProduct:deleteProduct,setTargetId:setTargetId,filterProducts:filterProducts,product:product}):/*#__PURE__*/_jsx(EditForm,{setShowForm:setShowForm,getProducts:getProducts,targetProduct:targetProduct,targetId:targetId,setAlertM:setAlertM,product:product});})]})})]});}export default MaamulBadeeco;","map":{"version":3,"names":["React","useState","useEffect","TextField","Typography","Grid","Button","Card","CardMedia","CardContent","CardActions","IconButton","Paper","DeleteIcon","Navbar","api","EditIcon","SaveIcon","CloseIcon","Edit","EditForm","NormalState","MaamulBadeeco","sessionStorage","getItem","window","location","replace","q","setQ","importAll","r","images","keys","map","item","index","require","context","products","setProducts","getProducts","get","data","showForm","setShowForm","targetProduct","setTargetProduct","filterProducts","id","newProduct","filter","product","alertM","setAlertM","targetId","setTargetId","deleteProduct","patch","status","newList","length","console","log","margin","width","height","position","right","padding","display","justifyContent","alignItems","background","color","alignSelf","cursor"],"sources":["C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/src/PAGES/MAAMULBADEECADA/MaamulBadeeco.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { TextField, Typography, Grid, Button } from '@material-ui/core'\r\nimport { Card, CardMedia, CardContent, CardActions, IconButton, Paper } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport Navbar from '../../COMPONENTS/Navbar/Navbar';\r\nimport { api } from '../../COMPONENTS/axiosSetup'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { Edit } from '@material-ui/icons';\r\nimport EditForm from './EditForm';\r\nimport NormalState from './NormalState';\r\nfunction MaamulBadeeco() {\r\n  if(sessionStorage.getItem('role') == 'admin') {\r\n     \r\n  }else{\r\n    window.location.replace('/')\r\n  }\r\n  const [q, setQ] = useState(0)\r\n    function importAll(r) {\r\n        let images = {};\r\n        r.keys().map((item, index) => { images[item.replace('./', '')] = r(item); });\r\n        return images;\r\n      }\r\n      \r\n      \r\n      const images = importAll(require.context('../../IMAGES', false, /\\.(png|jpe?g|svg)$/));\r\n    const [products, setProducts] = useState([])\r\n    async function getProducts(){\r\n      const data =   await (await api.get('/get/maamul/badeeco')).data\r\n      setProducts(data)\r\n    }\r\n    useEffect(()=>{\r\n        getProducts()\r\n    }, [])\r\n    const [showForm, setShowForm] = useState(false)\r\n\r\n    const [targetProduct, setTargetProduct] = useState([])\r\n   function filterProducts(id){\r\n    const newProduct = products.filter(product=> product.id == id)\r\n    setTargetProduct(newProduct)\r\n\r\n   }\r\n   const [alertM, setAlertM] = useState(false)\r\nconst [targetId, setTargetId] = useState(0)\r\n \r\n\r\n   async function deleteProduct(id){\r\n       const data = await api.patch('/delete/maamul/badeeco/tirtir', {id})\r\n       if(data.status){\r\n           const newList = products.filter(product=> product.id != id)\r\n           setProducts(newList)\r\n\r\n       }\r\n   }\r\n\r\n    // function EditForm(){\r\n    //   return (\r\n    //     <Grid item xs={12} sm={12 } style={{display:\"flex\", padding:'10px', justifyContent:'center'}}>\r\n    //         <Card style={{display:'flex', width:'100vw', height:'100px', padding:'10px', justifyContent:'center', alignItems:'center'}}>\r\n    //             <div>\r\n    //     <input value={magac} onChange={(e)=>{\r\n    //         setMagac(e.target.value)\r\n    //     }} type=\"text\" style={{width:'200px', height:'40px', fontSize:'20px', borderRadius:'20px', padding:'9px'}} />\r\n    //     <input value={price} onChange={(e)=>{\r\n    //         setPrice(e.target.value)\r\n    //     }}  type=\"number\" style={{width:'70px', margin:'4px 10px', fontSize:'20px',  height:'27px', padding:'9px'}}  />\r\n\r\n    //             </div>\r\n                    \r\n    //     <div>\r\n    //     <SaveIcon style={{cursor:'pointer'}} onClick={()=>{\r\n    //         saveUpdates()\r\n           \r\n    //     }} />\r\n\r\n    //     </div>\r\n    //         </Card>\r\n    //     </Grid>\r\n    //   )\r\n    // }\r\n    // function NormalState({ product }){\r\n    //     return (\r\n    //         <Grid item xs={12} sm={12 } style={{display:\"flex\", padding:'10px', justifyContent:'center'}}>\r\n    //         <Card style={{display:\"flex\", justifyContent:'space-around', alignItems:'center', padding:'5px', minWidth:'490px'}}>\r\n    //         <img src={images[product.image]} alt=\"\" style={{width:\"100px\", height:'100px', borderRadius:'50%', marginLeft:'30px'}} />\r\n    //         <Typography variant='h5'>{product.magac}</Typography> <br />\r\n    //         <Typography variant='h4'>${product.price}</Typography>\r\n    //         <EditIcon style={{cursor:'pointer', fontSize:'30px', color:'blue'}} onClick={()=>{\r\n    //             setShowForm(true)\r\n    //             filterProducts(product.id)\r\n    //             setTargetId(Number(product.id))\r\n    //         }} /> <br />\r\n    //         <DeleteIcon style={{cursor:'pointer', color:'red', fontSize:'30px'}} onClick={()=>{\r\n    //             deleteProduct(Number(product.id))\r\n    //         }} />\r\n    //         </Card>\r\n    //     </Grid>\r\n    //     )\r\n    // }\r\n    const newList = targetProduct.length>=1? targetProduct:  products\r\n    console.log(targetProduct)\r\n\r\n  return (\r\n    <>\r\n    <Navbar />\r\n    <div style={{margin:'3px'}}>\r\n      <Grid container align='center' > \r\n      <Grid item xs={12} sm={12}>\r\n      {alertM && <Paper style={{width:'180px', height:'90px', position:'absolute', right:'30px', padding:'10px', display:'flex', justifyContent:'center', alignItems:'center', background:'red', color:'white'}} align='center' > <span style={{alignSelf:'flex-end', justifyContent:'flex-start'}}>WAA LAGU GUULDAREYSTAY KEYDINTA ISBADALKA CUSUB.</span> <CloseIcon onClick={()=>setAlertM(false)} titleAccess='xir'  style={{background:'red', alignSelf:'flex-start', cursor:'pointer'}}/> </Paper>}\r\n      </Grid>\r\n        {newList.map(product=>{\r\n            return (\r\n       !showForm ? <NormalState setShowForm={setShowForm} deleteProduct={deleteProduct} setTargetId={setTargetId} filterProducts={filterProducts} product={product} /> : <EditForm setShowForm={setShowForm} getProducts={getProducts} targetProduct={targetProduct} targetId={targetId} setAlertM={setAlertM}  product={product}    />\r\n            )\r\n        })}\r\n      </Grid>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MaamulBadeeco\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}