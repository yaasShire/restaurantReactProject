{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{TextField,Typography,Grid,Button}from'@material-ui/core';import{Card,CardMedia,CardContent,CardActions,IconButton,Paper}from'@material-ui/core';import useStyles from'./style';import{api}from'../../COMPONENTS/axiosSetup';import CloseIcon from'@material-ui/icons/Close';import{Link}from'react-router-dom';import fpImage from'./fp_image.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ForgetPassword(){if(sessionStorage.getItem('email')){window.location.replace('/badeeco');}var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),alertM=_useState6[0],setAlertM=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),eM=_useState8[0],setEM=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),users=_useState10[0],setUsers=_useState10[1];function getUsers(){return _getUsers.apply(this,arguments);}function _getUsers(){_getUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,targetUser,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get('/get/users/forget/password');case 2:_context.next=4;return _context.sent.data;case 4:data=_context.sent;targetUser=data.filter(function(user){return user.email==email;});console.log(targetUser);if(!(targetUser.lenth!==0&&password!='')){_context.next=19;break;}if(!(targetUser.length==0)){_context.next=11;break;}setEM(true);return _context.abrupt(\"return\");case 11:_context.next=13;return api.put('/update/user/password',{email:email,password:password});case 13:_context.next=15;return _context.sent.data;case 15:_data=_context.sent;if(_data.status){setTimeout(function(){window.location.replace('/');},1000);}_context.next=20;break;case 19:setAlertM(true);case 20:setUsers(data);case 21:case\"end\":return _context.stop();}}},_callee);}));return _getUsers.apply(this,arguments);}var classes=useStyles();return/*#__PURE__*/_jsxs(\"div\",{style:{height:'100vh',display:'flex',justifyContent:'center',alignItems:'center',flexDirection:'column',fontSize:'27px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",style:{fontFamily:'Indie Flower'},align:\"center\",children:\"BADAL PASSWORD\"}),/*#__PURE__*/_jsxs(Card,{className:classes.root,style:{width:'80vh'},children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:fpImage}),/*#__PURE__*/_jsxs(Grid,{container:true,style:{display:'flex',padding:'20px',width:'100%',flexDirection:'column',justifyContent:'flex-start',alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(Grid,{item:true,sm:6,xs:12,children:[alertM&&/*#__PURE__*/_jsxs(Paper,{style:{width:'340px',height:'70px',fontSize:'24px',padding:'4px',display:'flex',justifyContent:'center',alignItems:'center',background:'red',color:'white',marginRight:'30px'},align:\"center\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{alignSelf:'flex-end',justifyContent:'flex-start'},children:\"ISKA HUBI emailka iyo passwordka\"}),\" \",/*#__PURE__*/_jsx(CloseIcon,{onClick:function onClick(){return setAlertM(false);},titleAccess:\"xir\",style:{background:'red',alignSelf:'flex-start',cursor:'pointer'}}),\" \"]}),eM&&/*#__PURE__*/_jsxs(Paper,{style:{width:'340px',height:'70px',fontSize:'24px',padding:'4px',display:'flex',justifyContent:'center',alignItems:'center',background:'red',color:'white',marginRight:'30px'},align:\"center\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{alignSelf:'flex-end',justifyContent:'flex-start'},children:\"Majiro emailkan.\"}),\" \",/*#__PURE__*/_jsx(CloseIcon,{onClick:function onClick(){return setEM(false);},titleAccess:\"xir\",style:{background:'red',alignSelf:'flex-start',cursor:'pointer'}}),\" \"]})]}),/*#__PURE__*/_jsx(Grid,{item:true,sm:6,xs:12,style:{alignSelf:'flex-start'},children:/*#__PURE__*/_jsx(TextField,{required:true,placeholder:\"email\",type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},style:{width:'200px',padding:'10px',fontSize:\"30px\"}})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:6,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,placeholder:\"password\",type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},style:{width:'200px',padding:'10px',fontSize:'100px'}})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:12,xs:12,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{width:'180px',height:'30px'},onClick:function onClick(){getUsers();},children:\"BADAL\"})})]})]})]});}export default ForgetPassword;","map":{"version":3,"names":["React","useState","useEffect","TextField","Typography","Grid","Button","Card","CardMedia","CardContent","CardActions","IconButton","Paper","useStyles","api","CloseIcon","Link","fpImage","ForgetPassword","sessionStorage","getItem","window","location","replace","email","setEmail","password","setPassword","alertM","setAlertM","eM","setEM","users","setUsers","getUsers","get","data","targetUser","filter","user","console","log","lenth","length","put","status","setTimeout","classes","height","display","justifyContent","alignItems","flexDirection","fontSize","fontFamily","root","width","media","padding","background","color","marginRight","alignSelf","cursor","e","target","value"],"sources":["C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/src/PAGES/ForgetPassword/ForgetPassword.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { TextField, Typography, Grid, Button } from '@material-ui/core'\r\nimport { Card, CardMedia, CardContent, CardActions, IconButton, Paper } from '@material-ui/core';\r\nimport useStyles from './style'\r\nimport { api } from '../../COMPONENTS/axiosSetup';\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { Link } from 'react-router-dom'\r\nimport fpImage from './fp_image.jpg'\r\nfunction ForgetPassword() {\r\n  if(sessionStorage.getItem('email')){\r\n    window.location.replace('/badeeco')\r\n  }\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [alertM, setAlertM] = useState(false)\r\n    const [eM, setEM] = useState(false)\r\n    const [users, setUsers] = useState()\r\n    async function getUsers(){\r\n        const data = await (await api.get('/get/users/forget/password')).data\r\n        const targetUser = data.filter(user=> user.email == email)\r\n        console.log(targetUser)\r\n        if(targetUser.lenth !==0  && password != ''){\r\n            if(targetUser.length == 0){\r\n               setEM(true)\r\n               return\r\n            }\r\n            const data =   await (await api.put('/update/user/password', {email, password})).data\r\n          if(data.status){\r\n            setTimeout(()=>{\r\n                window.location.replace('/')\r\n            }, 1000)\r\n          }\r\n        }else{\r\n            setAlertM(true)\r\n        }\r\n        setUsers(data)\r\n        \r\n    }\r\n    \r\n\r\n \r\n    const classes = useStyles()\r\n  return (\r\n    <div style={{ height:'100vh', display:'flex', justifyContent:'center', alignItems:'center', flexDirection:'column', fontSize:'27px'}}>\r\n    <Typography variant=\"h4\" style={{fontFamily:'Indie Flower'}}  align='center'>BADAL PASSWORD</Typography>\r\n\r\n    <Card className={classes.root}  style={{width:'80vh'}}>\r\n      <CardMedia className={classes.media} image={fpImage}  />\r\n      {/* <CardContent> */}\r\n      <Grid container style={{display:'flex', padding:'20px', width:'100%', flexDirection:'column', justifyContent:'flex-start', alignItems:'flex-start'}}>\r\n       <Grid item sm={6}  xs={12}>\r\n        {alertM && <Paper style={{width:'340px', height:'70px', fontSize:'24px', padding:'4px', display:'flex', justifyContent:'center', alignItems:'center', background:'red', color:'white', marginRight:'30px'}} align='center' > <span style={{alignSelf:'flex-end', justifyContent:'flex-start'}}>ISKA HUBI emailka iyo passwordka</span> <CloseIcon onClick={()=>setAlertM(false)} titleAccess='xir'  style={{background:'red', alignSelf:'flex-start', cursor:'pointer'}}/> </Paper>}\r\n        {eM && <Paper style={{width:'340px', height:'70px', fontSize:'24px', padding:'4px', display:'flex', justifyContent:'center', alignItems:'center', background:'red', color:'white', marginRight:'30px'}} align='center' > <span style={{alignSelf:'flex-end', justifyContent:'flex-start'}}>Majiro emailkan.</span> <CloseIcon onClick={()=>setEM(false)} titleAccess='xir'  style={{background:'red', alignSelf:'flex-start', cursor:'pointer'}}/> </Paper>}\r\n        </Grid> \r\n        <Grid item sm={6} xs={12}  style={{alignSelf:'flex-start'}}>\r\n          <TextField required placeholder='email' type='email'  onChange={(e)=>setEmail(e.target.value)} style={{width:'200px', padding:'10px', fontSize:\"30px\"}} />\r\n        </Grid>\r\n        <Grid item sm={6} xs={12}>\r\n        <TextField required placeholder='password' type='password' onChange={(e)=>setPassword(e.target.value)} style={{width:'200px', padding:'10px',fontSize:'100px'}} />\r\n        </Grid>\r\n        \r\n        <Grid item sm={12} xs={12}>\r\n          <Button variant='contained' style={{width:'180px', height:'30px'}} onClick={()=>{\r\n           getUsers()\r\n\r\n          }}>BADAL</Button>\r\n       \r\n      \r\n          \r\n        </Grid>\r\n    </Grid>\r\n    </Card>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default ForgetPassword\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}