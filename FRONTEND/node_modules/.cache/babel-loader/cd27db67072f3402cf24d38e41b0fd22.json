{"ast":null,"code":"import _objectSpread from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Card,CardMedia,CardContent,CardActions,IconButton,Paper}from'@material-ui/core';import{TextField,Typography,Grid,Button}from'@material-ui/core';import payment from'./lacagbixin.png';import CloseIcon from'@material-ui/icons/Close';import{api}from'../../COMPONENTS/axiosSetup';import useStyles from'./style';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Checkout(_ref){var cItems=_ref.cItems,getTotal=_ref.getTotal,total=_ref.total;if(!sessionStorage.getItem('email')){window.location.replace('/');}var _useState=useState(false),_useState2=_slicedToArray(_useState,2),alertM=_useState2[0],setAlertM=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),magac=_useState4[0],setMagac=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),ciwaan=_useState6[0],setCiwaan=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),telephone=_useState8[0],setTelephone=_useState8[1];useEffect(function(){getTotal();},[]);function postDalbadahaXogtiisa(_x){return _postDalbadahaXogtiisa.apply(this,arguments);}function _postDalbadahaXogtiisa(){_postDalbadahaXogtiisa=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(magac!=''&&ciwaan!=''&&telephone!='')){_context.next=11;break;}e.target.href='tel:*712*610941595*'+{total:total}+'#';console.log(total);_context.next=5;return api.post('/xogta/dalbadaha/rasmiga',{magac:magac,ciwaan:ciwaan,telephone:telephone});case 5:_context.next=7;return _context.sent.data;case 7:data=_context.sent;alert(data.status);_context.next=12;break;case 11:setAlertM(true);case 12:case\"end\":return _context.stop();}}},_callee);}));return _postDalbadahaXogtiisa.apply(this,arguments);}function clearCart(){return _clearCart.apply(this,arguments);}function _clearCart(){_clearCart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var email;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:email=sessionStorage.getItem('email');_context2.next=3;return api.patch('/clear/cart',{email:email});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _clearCart.apply(this,arguments);}function sendCartOrders(){return _sendCartOrders.apply(this,arguments);}function _sendCartOrders(){_sendCartOrders=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:cItems.map(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(item){var data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.post('/dir/dalabyada',_objectSpread(_objectSpread({},item),{},{cusName:magac}));case 2:_context3.next=4;return _context3.sent.data;case 4:data=_context3.sent;alertM(data.status);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref2.apply(this,arguments);};}());case 1:case\"end\":return _context4.stop();}}},_callee4);}));return _sendCartOrders.apply(this,arguments);}var classes=useStyles();return/*#__PURE__*/_jsxs(\"div\",{style:{height:'100vh',display:'flex',justifyContent:'center',alignItems:'center',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",style:{fontFamily:'Indie Flower'},align:\"center\",children:\"LACAG BIXINTA\"}),/*#__PURE__*/_jsxs(Card,{className:classes.root,style:{width:'80vh'},children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:payment}),/*#__PURE__*/_jsxs(Grid,{container:true,style:{display:'flex',padding:'20px',width:'100%',flexDirection:'column',justifyContent:'flex-start',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:6,xs:12,children:alertM&&/*#__PURE__*/_jsxs(Paper,{style:{width:'100%',height:'40px',padding:'4px',display:'flex',justifyContent:'center',alignItems:'center',background:'red',color:'white',marginRight:'30px'},align:\"center\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{alignSelf:'flex-end',justifyContent:'flex-start'},children:\"FADLAN BUUXI MEELAHA BANAAN\"}),\" \",/*#__PURE__*/_jsx(CloseIcon,{onClick:function onClick(){return setAlertM(false);},titleAccess:\"xir\",style:{background:'red',alignSelf:'flex-start',cursor:'pointer'}}),\" \"]})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:6,xs:12,style:{alignSelf:'flex-start'},children:/*#__PURE__*/_jsx(TextField,{required:true,placeholder:\"magacaaga oo saddexan\",type:\"text\",onChange:function onChange(e){return setMagac(e.target.value);},style:{width:'200px',padding:'10px',fontSize:\"30px\"}})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:6,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,placeholder:\"telephone\",type:\"text\",onChange:function onChange(e){return setTelephone(e.target.value);},style:{width:'200px',padding:'10px',fontSize:'100px'}})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:6,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,placeholder:\"ciwaankaaga\",type:\"text\",onChange:function onChange(e){return setCiwaan(e.target.value);},style:{width:'200px',padding:'10px',fontSize:'100px'}})}),/*#__PURE__*/_jsxs(Grid,{item:true,sm:12,xs:12,style:{margin:'10px',width:'300px'},children:[/*#__PURE__*/_jsx(\"a\",{variant:\"contained\",style:{border:'1px solid black',color:'black',padding:'10px',paddingLeft:\"10px\",textDecoration:'none',margin:'10px'},onClick:function onClick(e){postDalbadahaXogtiisa(e);sendCartOrders();clearCart();},children:\"BIXI\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'}})]})]})]})]});}export default Checkout;","map":{"version":3,"names":["React","useState","useEffect","Card","CardMedia","CardContent","CardActions","IconButton","Paper","TextField","Typography","Grid","Button","payment","CloseIcon","api","useStyles","Checkout","cItems","getTotal","total","sessionStorage","getItem","window","location","replace","alertM","setAlertM","magac","setMagac","ciwaan","setCiwaan","telephone","setTelephone","postDalbadahaXogtiisa","e","target","href","console","log","post","data","alert","status","clearCart","email","patch","sendCartOrders","map","item","cusName","classes","height","display","justifyContent","alignItems","flexDirection","fontFamily","root","width","media","padding","background","color","marginRight","alignSelf","cursor","value","fontSize","margin","border","paddingLeft","textDecoration","marginTop"],"sources":["C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/src/PAGES/Checkout/Checkout.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Card, CardMedia, CardContent, CardActions, IconButton, Paper } from '@material-ui/core';\r\nimport { TextField, Typography, Grid, Button } from '@material-ui/core'\r\nimport payment from './lacagbixin.png'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { api } from '../../COMPONENTS/axiosSetup';\r\n\r\nimport useStyles from './style'\r\nfunction Checkout({ cItems, getTotal, total }) {\r\n  if(!sessionStorage.getItem('email')){\r\n    window.location.replace('/')\r\n }\r\n  const [alertM, setAlertM] = useState(false)\r\n  const [magac, setMagac] = useState('')\r\n  const [ciwaan, setCiwaan] = useState('')\r\n  const [telephone, setTelephone] = useState('')\r\n  useEffect(()=>{\r\n      getTotal()\r\n  }, [])\r\n  async function postDalbadahaXogtiisa(e){\r\n    if((magac !='' && ciwaan !='') && telephone !=''){\r\n       e.target.href='tel:*712*610941595*' +{total} + '#'\r\n       console.log(total)\r\n     const data =   await( await api.post('/xogta/dalbadaha/rasmiga', {magac, ciwaan, telephone})).data\r\n     alert(data.status)\r\n     }else{\r\n        setAlertM(true)\r\n     }\r\n  }\r\n  async function clearCart(){\r\n    const email = sessionStorage.getItem('email')\r\n    await api.patch('/clear/cart', {email})\r\n  }\r\n\r\n \r\n  async function sendCartOrders(){\r\n    cItems.map(async (item)=>{\r\n        const data = await (await api.post('/dir/dalabyada', {...item, cusName:magac})).data\r\n        alertM(data.status)\r\n    })\r\n  }\r\n  const classes = useStyles()\r\n  return (\r\n    <div style={{ height:'100vh', display:'flex', justifyContent:'center', alignItems:'center', flexDirection:'column'}}>\r\n    <Typography variant=\"h4\" style={{fontFamily:'Indie Flower'}}  align='center'>LACAG BIXINTA</Typography>\r\n\r\n    <Card className={classes.root}  style={{width:'80vh'}}>\r\n      <CardMedia className={classes.media} image={payment}  />\r\n      {/* <CardContent> */}\r\n      <Grid container style={{display:'flex', padding:'20px', width:'100%', flexDirection:'column', justifyContent:'flex-start', alignItems:'flex-start'}}>\r\n       <Grid item sm={6}  xs={12}>\r\n        {alertM && <Paper style={{width:'100%', height:'40px', padding:'4px', display:'flex', justifyContent:'center', alignItems:'center', background:'red', color:'white', marginRight:'30px'}} align='center' > <span style={{alignSelf:'flex-end', justifyContent:'flex-start'}}>FADLAN BUUXI MEELAHA BANAAN</span> <CloseIcon onClick={()=>setAlertM(false)} titleAccess='xir'  style={{background:'red', alignSelf:'flex-start', cursor:'pointer'}}/> </Paper>}\r\n        </Grid> \r\n        <Grid item sm={6} xs={12}  style={{alignSelf:'flex-start'}}>\r\n          <TextField required placeholder='magacaaga oo saddexan' type='text'  onChange={(e)=>setMagac(e.target.value)} style={{width:'200px', padding:'10px', fontSize:\"30px\"}} />\r\n        </Grid>\r\n        <Grid item sm={6} xs={12}>\r\n        <TextField required placeholder='telephone' type='text' onChange={(e)=>setTelephone(e.target.value)} style={{width:'200px', padding:'10px',fontSize:'100px'}} />\r\n        </Grid>\r\n        <Grid item sm={6} xs={12}>\r\n        <TextField required placeholder='ciwaankaaga' type='text' onChange={(e)=>setCiwaan(e.target.value)} style={{width:'200px', padding:'10px',fontSize:'100px'}} />\r\n        </Grid>\r\n        \r\n        <Grid item sm={12} xs={12} style={{margin:'10px',  width:'300px'}}>\r\n          <a   variant='contained' style={{ border:'1px solid black',  color:'black', padding:'10px', paddingLeft:\"10px\", textDecoration:'none', margin:'10px'}} onClick={(e)=>{\r\n            postDalbadahaXogtiisa(e)\r\n            sendCartOrders()\r\n            clearCart()\r\n          }}>BIXI</a>\r\n          <div style={{marginTop:'10px'}}>\r\n          {/* <Link to='/signUp'>SignUp</Link> */}\r\n          </div>\r\n        </Grid>\r\n    </Grid>\r\n      {/* </CardContent> */}\r\n\r\n    </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Checkout\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}