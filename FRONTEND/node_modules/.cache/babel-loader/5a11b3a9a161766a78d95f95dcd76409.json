{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{api}from'./COMPONENTS/axiosSetup';import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import Diiwaangeli from'./PAGES/Dashboard/Diiwaangeli';import PanelAd from'./COMPONENTS/Panel/PanelAd';import Products from'./COMPONENTS/Products/Products';import SignUp from'./COMPONENTS/AUTHENTICATION/SIGNUP/SignUp';import Login from'./COMPONENTS/AUTHENTICATION/LOGIN/Login';import Cart from'./COMPONENTS/CART/Cart';import Checkout from'./PAGES/Checkout/Checkout';import AdminOrders from'./PAGES/ORDERHANDLER/AdminOrders';import FulfilledOr from'./PAGES/FulfilledOrders/FulfilledOr';import Navigation from'./COMPONENTS/ModernNavigation/Navigation';import MaamulBadeeco from'./PAGES/MAAMULBADEECADA/MaamulBadeeco';import Home from'./PAGES/Homepage/Home';import History from'./PAGES/CustomerHistory/History';import ForgetPassword from'./PAGES/ForgetPassword/ForgetPassword';import Category from'./PAGES/CATEGORY/Category';import AdminPage from'./PAGES/AdminManagement/AdminPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];function getAllProducts(){return _getAllProducts.apply(this,arguments);}function _getAllProducts(){_getAllProducts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get('/get/products');case 2:_context.next=4;return _context.sent.data;case 4:data=_context.sent;setProducts(data);case 6:case\"end\":return _context.stop();}}},_callee);}));return _getAllProducts.apply(this,arguments);}var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cItems=_useState4[0],setCItems=_useState4[1];function getCartItem(){return _getCartItem.apply(this,arguments);}function _getCartItem(){_getCartItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data,email,targetOrders;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.get('/get/cart/items');case 2:_context2.next=4;return _context2.sent.data;case 4:data=_context2.sent;email=sessionStorage.getItem('email');targetOrders=data.filter(function(item){return item.email==email;});setCItems(targetOrders);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _getCartItem.apply(this,arguments);}useEffect(function(){getAllProducts();getCartItem();},[]);function removeItem(_x){return _removeItem.apply(this,arguments);}function _removeItem(){_removeItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var newCart;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:newCart=cItems.filter(function(item){return item.id!=id;});setCItems(newCart);_context3.next=4;return api.patch('/remove/cart/item',{id:id});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _removeItem.apply(this,arguments);}var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),total=_useState6[0],setTotal=_useState6[1];function getTotal(){return _getTotal.apply(this,arguments);}function _getTotal(){_getTotal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var email,data,newList,wadarta,i,item;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:email=sessionStorage.getItem('email');_context4.next=3;return api.get('/get/total');case 3:_context4.next=5;return _context4.sent.data;case 5:data=_context4.sent;newList=data.filter(function(item){return item.email===email;});wadarta=0;for(i=0;i<newList.length;i++){item=newList[i];wadarta=wadarta+item.price*item.quantity;}setTotal(wadarta);case 10:case\"end\":return _context4.stop();}}},_callee4);}));return _getTotal.apply(this,arguments);}useEffect(function(){getTotal();},[]);function updateQuantity(_x2,_x3){return _updateQuantity.apply(this,arguments);}function _updateQuantity(){_updateQuantity=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(magaca,quantity){var realQuantity,data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:realQuantity=quantity==''?1:Number(quantity);_context5.next=3;return api.put('/update/cart/quantity',{magaca:magaca,realQuantity:realQuantity});case 3:_context5.next=5;return _context5.sent.data;case 5:data=_context5.sent;case 6:case\"end\":return _context5.stop();}}},_callee5);}));return _updateQuantity.apply(this,arguments);}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/signUp\",element:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/panel\",element:/*#__PURE__*/_jsx(PanelAd,{})}),/*#__PURE__*/_jsx(Route,{path:\"/adminOrders\",element:/*#__PURE__*/_jsx(AdminOrders,{})}),/*#__PURE__*/_jsx(Route,{path:\"/diiwaangelinta\",element:/*#__PURE__*/_jsx(Diiwaangeli,{})}),/*#__PURE__*/_jsx(Route,{path:\"/badeeco\",element:/*#__PURE__*/_jsx(Products,{products:products,getCartItem:getCartItem})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{getCartItem:getCartItem,getTotal:getTotal,total:total,updateQuantity:updateQuantity,cItem:cItems,removeItem:removeItem})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(Checkout,{getCartItem:getCartItem,cItems:cItems,total:total,getTotal:getTotal})}),/*#__PURE__*/_jsx(Route,{path:\"/fullFilled\",element:/*#__PURE__*/_jsx(FulfilledOr,{})}),/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/maamulBadeeco\",element:/*#__PURE__*/_jsx(MaamulBadeeco,{})}),/*#__PURE__*/_jsx(Route,{path:\"/history\",element:/*#__PURE__*/_jsx(History,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgetpassword\",element:/*#__PURE__*/_jsx(ForgetPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/category\",element:/*#__PURE__*/_jsx(Category,{})}),/*#__PURE__*/_jsx(Route,{path:\"/adminManage\",element:/*#__PURE__*/_jsx(AdminPage,{})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","api","BrowserRouter","Router","Routes","Route","Diiwaangeli","PanelAd","Products","SignUp","Login","Cart","Checkout","AdminOrders","FulfilledOr","Navigation","MaamulBadeeco","Home","History","ForgetPassword","Category","AdminPage","App","products","setProducts","getAllProducts","get","data","cItems","setCItems","getCartItem","email","sessionStorage","getItem","targetOrders","filter","item","removeItem","id","newCart","patch","total","setTotal","getTotal","newList","wadarta","i","length","price","quantity","updateQuantity","magaca","realQuantity","Number","put"],"sources":["C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { api } from './COMPONENTS/axiosSetup';\r\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\nimport Diiwaangeli from './PAGES/Dashboard/Diiwaangeli';\r\nimport PanelAd from './COMPONENTS/Panel/PanelAd';\r\nimport Products from './COMPONENTS/Products/Products';\r\nimport SignUp from './COMPONENTS/AUTHENTICATION/SIGNUP/SignUp';\r\nimport Login from './COMPONENTS/AUTHENTICATION/LOGIN/Login'\r\nimport Cart from './COMPONENTS/CART/Cart';\r\nimport Checkout from './PAGES/Checkout/Checkout';\r\nimport AdminOrders from './PAGES/ORDERHANDLER/AdminOrders';\r\nimport FulfilledOr from './PAGES/FulfilledOrders/FulfilledOr';\r\nimport Navigation from './COMPONENTS/ModernNavigation/Navigation';\r\nimport MaamulBadeeco from './PAGES/MAAMULBADEECADA/MaamulBadeeco';\r\nimport Home from './PAGES/Homepage/Home';\r\nimport History from './PAGES/CustomerHistory/History';\r\nimport ForgetPassword from './PAGES/ForgetPassword/ForgetPassword';\r\nimport Category from './PAGES/CATEGORY/Category';\r\nimport AdminPage from './PAGES/AdminManagement/AdminPage';\r\nfunction App() {\r\n  const [products, setProducts] = useState([])\r\n  async function getAllProducts(){\r\n   const data = await (await api.get('/get/products')).data\r\n   setProducts(data)\r\n  }\r\n  const [cItems, setCItems] = useState([])\r\n  async function getCartItem(){\r\n    const data = await (await api.get('/get/cart/items')).data\r\n    const email = sessionStorage.getItem('email')\r\n    const targetOrders = data.filter(item=> item.email == email)\r\n    setCItems(targetOrders)\r\n\r\n  }\r\n\r\n  useEffect(()=>{\r\n    getAllProducts()\r\n    getCartItem()\r\n  }, [])\r\n  async function removeItem(id){\r\n    const newCart = cItems.filter(item=> item.id != id)\r\n    setCItems(newCart)\r\n    await api.patch('/remove/cart/item', {id})\r\n }\r\n const [total, setTotal] = useState(0)\r\n async function getTotal(){\r\n  const email = sessionStorage.getItem('email')\r\n   const data = await (await api.get('/get/total')).data\r\n   const newList = data.filter(item=> item.email === email)\r\n   let wadarta = 0\r\n   for(let i = 0; i< newList.length; i++){\r\n    const item = newList[i]\r\n    \r\n    wadarta = wadarta + (item.price * item.quantity )\r\n   }\r\n   setTotal(wadarta)\r\n }\r\n useEffect(()=>{\r\n   getTotal()\r\n }, [])\r\n async function updateQuantity(magaca, quantity){\r\n  const realQuantity = quantity == ''? 1 : Number(quantity)\r\n   const data =  await (await api.put('/update/cart/quantity', {magaca, realQuantity})).data\r\n }\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n      <Route path=\"/signUp\" element={<SignUp />} />\r\n      <Route path=\"/\" element={<Login />} />\r\n      {/* { sessionStorage.getItem('email') &&} */}\r\n      <Route path=\"/panel\" element={<PanelAd />} />\r\n      <Route path=\"/adminOrders\" element={<AdminOrders />} />\r\n      <Route path=\"/diiwaangelinta\" element={<Diiwaangeli />} />\r\n      {/* <Route path=\"/products\" element={<Dashboard />} /> */}\r\n      <Route path=\"/badeeco\" element={<Products products={products} getCartItem={getCartItem} />} />\r\n      <Route path=\"/cart\" element={<Cart getCartItem={getCartItem} getTotal={getTotal} total={total} updateQuantity={updateQuantity} cItem={cItems} removeItem={removeItem} />} /> \r\n      <Route path=\"/checkout\" element={<Checkout getCartItem={getCartItem} cItems={cItems} total={total} getTotal={getTotal} />} />\r\n      <Route path=\"/fullFilled\" element={<FulfilledOr  />} />\r\n      {/* <Route path=\"/Navigation\" element={<Navigation  />} /> */}\r\n      <Route path=\"/home\" element={<Home  />} />\r\n      <Route path=\"/maamulBadeeco\" element={<MaamulBadeeco  />} />\r\n      <Route path=\"/history\" element={<History  />} />  \r\n      <Route path=\"/forgetpassword\" element={<ForgetPassword  />} />    \r\n      <Route path=\"/category\" element={<Category  />} />    \r\n      <Route path=\"/adminManage\" element={<AdminPage  />} />    \r\n      </Routes>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}