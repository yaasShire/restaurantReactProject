{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Card,CardMedia,CardContent,CardActions,Typography,IconButton}from'@material-ui/core';import{AddShoppingCart}from'@material-ui/icons';import{api}from'../../axiosSetup';import useStyles from'./style';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=function Product(_ref){var product=_ref.product,getTotalQuantity=_ref.getTotalQuantity;var classes=useStyles();function importAll(r){var images={};r.keys().map(function(item,index){images[item.replace('./','')]=r(item);});return images;}var images=importAll(require.context('../../../IMAGES',false,/\\.(png|jpe?g|svg)$/));var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];function addToCart(_x,_x2,_x3){return _addToCart.apply(this,arguments);}function _addToCart(){_addToCart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(magac,price,sawir){var email,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=sessionStorage.getItem('email');if(!email){_context.next=9;break;}console.log(magac,price,sawir);_context.next=5;return api.post('/add/to/cart',{magac:magac,price:price,sawir:sawir,email:email});case 5:data=_context.sent;setMessage(data.data);_context.next=10;break;case 9:alert('waa is diiwaangelisay');case 10:case\"end\":return _context.stop();}}},_callee);}));return _addToCart.apply(this,arguments);}return/*#__PURE__*/_jsxs(Card,{className:classes.root,children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:images[product.image],title:product.magac}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.cardContent,children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\",children:product.magac}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\",children:[\"$\",product.price]})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\",children:product.description})]}),/*#__PURE__*/_jsx(CardActions,{disableSpacing:true,className:classes.cardActions,children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"Add to Cart\",onClick:function onClick(){addToCart(product.magac,product.price,product.image);getTotalQuantity();},children:/*#__PURE__*/_jsx(AddShoppingCart,{})})})]});};export default Product;","map":{"version":3,"names":["React","useState","Card","CardMedia","CardContent","CardActions","Typography","IconButton","AddShoppingCart","api","useStyles","Product","product","getTotalQuantity","classes","importAll","r","images","keys","map","item","index","replace","require","context","message","setMessage","addToCart","magac","price","sawir","email","sessionStorage","getItem","console","log","post","data","alert","root","media","image","cardContent","description","cardActions"],"sources":["C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/src/COMPONENTS/Products/Product/Product.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Card, CardMedia, CardContent, CardActions, Typography, IconButton } from '@material-ui/core';\r\nimport { AddShoppingCart } from '@material-ui/icons';\r\nimport { api } from '../../axiosSetup';\r\nimport useStyles from './style';\r\n\r\nconst Product = ({ product, getTotalQuantity}) => {\r\n\r\n  const classes = useStyles();\r\n  function importAll(r) {\r\n    let images = {};\r\n    r.keys().map((item, index) => { images[item.replace('./', '')] = r(item); });\r\n    return images;\r\n  }\r\n  \r\n  const images = importAll(require.context('../../../IMAGES', false, /\\.(png|jpe?g|svg)$/));\r\nconst [message, setMessage] = useState('')\r\n  async function addToCart(magac, price, sawir){\r\n    const email = sessionStorage.getItem('email')\r\n    if(email){\r\n      console.log(magac, price, sawir)\r\n      const data = await api.post('/add/to/cart', {magac, price, sawir, email})\r\n      setMessage(data.data)\r\n     \r\n\r\n\r\n    }else{\r\n      alert('waa is diiwaangelisay')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardMedia className={classes.media} image={images[product.image]} title={product.magac} />\r\n      <CardContent>\r\n        <div className={classes.cardContent}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {product.magac}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            ${product.price}\r\n          </Typography>\r\n        </div>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" >{product.description}</Typography>\r\n      </CardContent>\r\n      <CardActions disableSpacing className={classes.cardActions}>\r\n        <IconButton aria-label=\"Add to Cart\"  onClick={()=>{\r\n          addToCart(product.magac, product.price, product.image)\r\n          getTotalQuantity()\r\n        }}>\r\n          <AddShoppingCart />\r\n        </IconButton>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Product;"],"mappings":"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"},"metadata":{},"sourceType":"module"}