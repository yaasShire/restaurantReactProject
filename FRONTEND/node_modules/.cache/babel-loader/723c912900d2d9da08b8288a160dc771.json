{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{TextField,Typography,Grid,Button}from'@material-ui/core';import{Card,CardMedia,CardContent,CardActions,IconButton,Paper}from'@material-ui/core';import Navigation from'../../COMPONENTS/ModernNavigation/Navigation';import{api}from'../../COMPONENTS/axiosSetup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function History(){if(sessionStorage.getItem('role')=='admin'){}else{window.location.replace('/');}var _useState=useState(''),_useState2=_slicedToArray(_useState,2),taariikh=_useState2[0],setTaariikh=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),orders=_useState4[0],setOrders=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),targetOrders=_useState6[0],setTargetOrders=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),dateOrders=_useState8[0],setDateOrders=_useState8[1];function getOrders(_x){return _getOrders.apply(this,arguments);}function _getOrders(){_getOrders=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(currentDate){var data,tDateList,email,realList;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(new Date(currentDate).toLocaleDateString());_context.next=3;return api.get('/get/tatget/date/orders');case 3:_context.next=5;return _context.sent.data;case 5:data=_context.sent;tDateList=data.filter(function(order){return new Date(order.taariikh).toLocaleDateString()==new Date(currentDate).toLocaleDateString();});email=sessionStorage.getItem('email');realList=tDateList.filter(function(order){return order.email==email;});setDateOrders(realList);// console.log(data)   \n// console.log(tDateList)\n// console.log(new Date(taariikh).toLocaleDateString())\nsetTargetOrders(realList);case 11:case\"end\":return _context.stop();}}},_callee);}));return _getOrders.apply(this,arguments);}useEffect(function(){//  getOrders()\n},[taariikh]);function importAll(r){var images={};r.keys().map(function(item,index){images[item.replace('./','')]=r(item);});return images;}var images=importAll(require.context('../../IMAGES',false,/\\.(png|jpe?g|svg)$/));// if(!dateOrders.length){\n//   return <Typography variant='h3' align='center'>WAX DALAB AH MASAMEYNIN</Typography>\n// }\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:12,xs:12,style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{varaint:\"h1\",gutterBottom:true,align:\"center\",children:\"U BAAR TAARIIKH AHAAN\"})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:12,xs:12,style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setTaariikh(e.target.value);getOrders(e.target.value);},type:\"date\",style:{width:'300px',height:'50px',color:'blue',fontSize:'25px'}})}),dateOrders.map(function(product){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,style:{display:\"flex\",padding:'10px',justifyContent:'center'},children:/*#__PURE__*/_jsxs(Card,{style:{display:\"flex\",justifyContent:'space-around',alignItems:'center',padding:'5px',minWidth:'490px'},children:[/*#__PURE__*/_jsx(\"img\",{src:images[product.image],alt:\"\",style:{width:\"100px\",height:'100px',borderRadius:'50%',marginLeft:'30px'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:product.magac}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",children:[\"$\",product.price]})]})});})]})]});}export default History;","map":{"version":3,"names":["React","useState","useEffect","TextField","Typography","Grid","Button","Card","CardMedia","CardContent","CardActions","IconButton","Paper","Navigation","api","History","sessionStorage","getItem","window","location","replace","taariikh","setTaariikh","orders","setOrders","targetOrders","setTargetOrders","dateOrders","setDateOrders","getOrders","currentDate","console","log","Date","toLocaleDateString","get","data","tDateList","filter","order","email","realList","importAll","r","images","keys","map","item","index","require","context","display","justifyContent","e","target","value","width","height","color","fontSize","product","padding","alignItems","minWidth","image","borderRadius","marginLeft","magac","price"],"sources":["C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/src/PAGES/CustomerHistory/History.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { TextField, Typography, Grid, Button } from '@material-ui/core'\r\nimport { Card, CardMedia, CardContent, CardActions, IconButton, Paper } from '@material-ui/core';\r\nimport Navigation from '../../COMPONENTS/ModernNavigation/Navigation'\r\nimport { api } from '../../COMPONENTS/axiosSetup';\r\nfunction History() {\r\n  if(sessionStorage.getItem('role') == 'admin') {\r\n     \r\n  }else{\r\n    window.location.replace('/')\r\n  }\r\n    const [taariikh, setTaariikh] = useState('')\r\n    const [orders, setOrders] = useState([])\r\n    const [targetOrders, setTargetOrders] = useState([])\r\n    const [dateOrders, setDateOrders] = useState([])\r\n    async function getOrders(currentDate){\r\n        console.log(new Date(currentDate).toLocaleDateString())\r\n        const data = await (await api.get('/get/tatget/date/orders')).data\r\n        const tDateList = data.filter(order=> new Date(order.taariikh).toLocaleDateString() == new Date(currentDate).toLocaleDateString())\r\n        const email = sessionStorage.getItem('email')\r\n        const realList = tDateList.filter(order=> order.email == email)\r\n        setDateOrders(realList)\r\n        // console.log(data)   \r\n        // console.log(tDateList)\r\n        // console.log(new Date(taariikh).toLocaleDateString())\r\n        setTargetOrders(realList)\r\n    }\r\n    useEffect(()=>{\r\n    //  getOrders()\r\n    }, [taariikh])\r\n    function importAll(r) {\r\n        let images = {};\r\n        r.keys().map((item, index) => { images[item.replace('./', '')] = r(item); });\r\n        return images;\r\n      }\r\n      \r\n      const images = importAll(require.context('../../IMAGES', false, /\\.(png|jpe?g|svg)$/));\r\n      // if(!dateOrders.length){\r\n      //   return <Typography variant='h3' align='center'>WAX DALAB AH MASAMEYNIN</Typography>\r\n      // }\r\n  return (\r\n    <>\r\n    <Navigation />\r\n    <Grid container>\r\n    <Grid item sm={12} xs={12}  style={{display:'flex', justifyContent:'center'}}>\r\n            <Typography varaint='h1' gutterBottom align='center'>U BAAR TAARIIKH AHAAN</Typography>\r\n        </Grid>\r\n        <Grid item sm={12} xs={12}  style={{display:'flex', justifyContent:'center'}}>\r\n            <input onChange={(e)=> {\r\n                setTaariikh(e.target.value)\r\n                getOrders(e.target.value)\r\n            }} type=\"date\" style={{width:'300px', height:'50px', color:'blue', fontSize:'25px'}} />\r\n        </Grid>\r\n      {dateOrders.map(product=>{\r\n        return (\r\n            <Grid item xs={12} sm={12 } style={{display:\"flex\", padding:'10px', justifyContent:'center'}}>\r\n            <Card style={{display:\"flex\", justifyContent:'space-around', alignItems:'center', padding:'5px', minWidth:'490px'}}>\r\n            <img src={images[product.image]} alt=\"\" style={{width:\"100px\", height:'100px', borderRadius:'50%', marginLeft:'30px'}} />\r\n            <Typography variant='h5'>{product.magac}</Typography> <br />\r\n            <Typography variant='h4'>${product.price}</Typography>\r\n           \r\n            </Card>\r\n        </Grid>\r\n\r\n        )\r\n      })}\r\n        \r\n    \r\n         \r\n    \r\n      \r\n    </Grid>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default History\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}