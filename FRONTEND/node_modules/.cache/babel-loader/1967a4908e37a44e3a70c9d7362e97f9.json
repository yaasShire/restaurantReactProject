{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{TextField,Typography,Grid,Button}from'@material-ui/core';import{Card,CardMedia,CardContent,CardActions,IconButton,Paper}from'@material-ui/core';import{api}from'../../COMPONENTS/axiosSetup';import DeleteIcon from'@material-ui/icons/Delete';import{Link}from'react-router-dom';import DoneIcon from'@material-ui/icons/Done';// import  getName  from './OrderedProducts'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function FulfilledOr(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),customer=_useState4[0],setCustomers=_useState4[1];function getCusOrders(){return _getCusOrders.apply(this,arguments);}function _getCusOrders(){_getCusOrders=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get('/get/cus/fulfilled');case 2:_context.next=4;return _context.sent.data;case 4:data=_context.sent;setCustomers(data);case 6:case\"end\":return _context.stop();}}},_callee);}));return _getCusOrders.apply(this,arguments);}useEffect(function(){getCusOrders();},[]);function getOrders(){return _getOrders.apply(this,arguments);}function _getOrders(){_getOrders=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.get('/get/received/orders');case 2:_context2.next=4;return _context2.sent.data;case 4:data=_context2.sent;setOrders(data);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _getOrders.apply(this,arguments);}useEffect(function(){getOrders();},[]);function importAll(r){var images={};r.keys().map(function(item,index){images[item.replace('./','')]=r(item);});return images;}var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),q=_useState6[0],setQ=_useState6[1];var images=importAll(require.context('../../IMAGES',false,/\\.(png|jpe?g|svg)$/));// const [totalV, setTotalV] = useState([])\nfunction ORDERS(_ref){var name=_ref.name;var totalValues=[];var newList=orders.filter(function(order){return order.cusname==name;});var total=0;for(var i=0;i<newList.length;i++){var item=newList[i];total=total+item.quantity*item.price;}totalValues.push(total);// setTotalV(totalValues)\nif(newList.length){return newList.map(function(item){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card,{style:{margin:'20px'},children:[/*#__PURE__*/_jsxs(CardContent,{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(CardMedia,{image:images[item.image],style:{width:'100px',height:'100px',borderRadius:'100%'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",style:{fontWeight:'bold'},children:item.magac}),/*#__PURE__*/_jsxs(Typography,{style:{fontWeight:'bold'},children:[\"$\",item.price]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Typography,{style:{fontWeight:'bold'},children:[\"Qty:\",item.quantity]})})]}),/*#__PURE__*/_jsxs(Typography,{children:[\"$\",total]})]});});}// }\n}function deleteCusOrder(_x){return _deleteCusOrder.apply(this,arguments);}function _deleteCusOrder(){_deleteCusOrder=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var newList,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:newList=customer.filter(function(cus){return cus.id!=id;});setCustomers(newList);_context3.next=4;return api.patch('/delete/cus/fulfilled/order',{id:id});case 4:_context3.next=6;return _context3.sent.data;case 6:data=_context3.sent;if(data.status){alert(data.status);}case 8:case\"end\":return _context3.stop();}}},_callee3);}));return _deleteCusOrder.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Grid,{container:true,style:{marginTop:'100px'},children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:12,xs:12,gutterBottom:true,style:{margin:'50px',position:'absolute',right:'10px',top:'20px'},children:/*#__PURE__*/_jsx(Link,{variant:\"outlined\",style:{textDecoration:'none',fontSize:'18px',background:'black',color:'white',borderRadius:'5px',padding:'8px'},to:\"/adminOrders\",children:\"DALABYADA AAN LA FULIN\"})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:12,xs:12,gutterBottom:true,style:{margin:'50px'},children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",align:\"center\",children:\"DALABYADA FULIYAY\"})}),customer.map(function(cus,index){return/*#__PURE__*/_jsx(Grid,{item:true,sm:4,xs:12,md:3,style:{margin:'20px',position:'relative'},children:/*#__PURE__*/_jsxs(Card,{style:{padding:'30px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:cus.magac}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:cus.telephone}),/*#__PURE__*/_jsx(ORDERS,{name:cus.magac}),/*#__PURE__*/_jsx(DeleteIcon,{variant:\"contained\",color:\"danger\",style:{fontSize:'30px'},onClick:function onClick(){deleteCusOrder(cus.id);}})]})});})]})});}export default FulfilledOr;","map":{"version":3,"names":["React","useState","useEffect","TextField","Typography","Grid","Button","Card","CardMedia","CardContent","CardActions","IconButton","Paper","api","DeleteIcon","Link","DoneIcon","FulfilledOr","orders","setOrders","customer","setCustomers","getCusOrders","get","data","getOrders","importAll","r","images","keys","map","item","index","replace","q","setQ","require","context","ORDERS","name","totalValues","newList","filter","order","cusname","total","i","length","quantity","price","push","margin","display","justifyContent","alignItems","image","width","height","borderRadius","fontWeight","magac","deleteCusOrder","id","cus","patch","status","alert","marginTop","position","right","top","textDecoration","fontSize","background","color","padding","telephone"],"sources":["C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/src/PAGES/FulfilledOrders/FulfilledOr.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { TextField, Typography, Grid, Button } from '@material-ui/core'\r\nimport { Card, CardMedia, CardContent, CardActions, IconButton, Paper } from '@material-ui/core';\r\nimport { api } from '../../COMPONENTS/axiosSetup';\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport { Link } from 'react-router-dom';\r\nimport DoneIcon from '@material-ui/icons/Done'\r\n// import  getName  from './OrderedProducts'\r\nfunction FulfilledOr() {\r\n  const [orders, setOrders] = useState([])\r\n\r\n  const [customer, setCustomers] = useState([])\r\n  async function getCusOrders(){\r\n    const data = await( await api.get('/get/cus/fulfilled')).data\r\n    setCustomers(data)\r\n \r\n  }\r\nuseEffect(()=>{\r\n    getCusOrders()\r\n}, [])\r\n\r\nasync function getOrders(){\r\n  const data = await (await api.get('/get/received/orders')).data\r\n  setOrders(data)\r\n}\r\nuseEffect(()=>{\r\ngetOrders()\r\n}, [])\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => { images[item.replace('./', '')] = r(item); });\r\n  return images;\r\n}\r\nconst [q, setQ] = useState(0)\r\n\r\n\r\nconst images = importAll(require.context('../../IMAGES', false, /\\.(png|jpe?g|svg)$/));\r\n\r\n// const [totalV, setTotalV] = useState([])\r\nfunction ORDERS({name}){\r\n  const totalValues = []\r\n    const newList =   orders.filter(order=> order.cusname == name)\r\n    let total = 0\r\n    for(let i = 0; i<newList.length; i++){\r\n      const item = newList[i]\r\n      total = total + (item.quantity * item.price)\r\n    }\r\n    totalValues.push(total)\r\n    // setTotalV(totalValues)\r\n\r\n\r\n    if(newList.length){\r\n     \r\n         return( newList.map(item=>{\r\n            return (\r\n              <>\r\n             <Card style={{margin:'20px'}} >\r\n             <CardContent style={{display:'flex', justifyContent:'space-between', alignItems:'center'}}>\r\n             <CardMedia  image={images[item.image]} style={{width:'100px', height:'100px', borderRadius:'100%'}} />\r\n              <Typography variant='h5' style={{fontWeight:'bold'}}>{item.magac}</Typography>\r\n              <Typography style={{fontWeight:'bold'}}>${item.price}</Typography>\r\n             </CardContent>\r\n              <div>\r\n              <Typography style={{fontWeight:'bold'}}>Qty:{item.quantity}</Typography>\r\n              </div>\r\n             </Card>\r\n             <Typography>${total}</Typography>\r\n              </>\r\n            )\r\n         \r\n          })\r\n         )\r\n    \r\n        \r\n\r\n    }\r\n\r\n  // }\r\n\r\n }\r\n\r\n\r\n\r\n async function deleteCusOrder(id){\r\n  const newList = customer.filter(cus=> cus.id != id)\r\n  setCustomers(newList)\r\n   const data =  await (await api.patch('/delete/cus/fulfilled/order', {id})).data\r\n\r\n   if(data.status){\r\n    alert(data.status)\r\n   }\r\n }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n        \r\n      <Grid container style={{marginTop:'100px'}}>\r\n      <Grid item sm={12} xs={12} gutterBottom style={{margin:'50px', position:'absolute', right:'10px', top:'20px'}} >\r\n          <Link  variant='outlined' style={{textDecoration:'none', fontSize:'18px', background:'black', color:'white',  borderRadius:'5px', padding:'8px'}} to='/adminOrders'>DALABYADA AAN LA FULIN</Link>\r\n        </Grid>\r\n        <Grid item sm={12} xs={12} gutterBottom style={{margin:'50px'}}>\r\n            <Typography variant=\"h5\" align='center'>DALABYADA FULIYAY</Typography>\r\n        </Grid>\r\n        \r\n        {customer.map((cus, index)=>{\r\n          return (\r\n\r\n      <Grid item sm={4} xs={12} md={3} style={{margin:'20px', position:'relative'}}>\r\n           <Card style={{padding:'30px'}}>\r\n            <Typography variant='h4'>{cus.magac}</Typography>\r\n            <Typography variant='h5'>{cus.telephone}</Typography>\r\n            <ORDERS name={cus.magac} />\r\n            <DeleteIcon variant='contained' color='danger' style={{fontSize:'30px'}} onClick={()=>{\r\n              deleteCusOrder(cus.id)\r\n            }} />\r\n\r\n           </Card>\r\n\r\n           \r\n        </Grid>\r\n          )\r\n        })}\r\n    \r\n      \r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FulfilledOr\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}