{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{TextField,Typography,Grid,Button}from'@material-ui/core';import{Card,CardMedia,CardContent,CardActions,IconButton,Paper}from'@material-ui/core';import FOODBG from'./foodBackgroundImage.jpg';import useStyles from'./style';import{api}from'../../axiosSetup';import CloseIcon from'@material-ui/icons/Close';import{Link}from'react-router-dom';import SignUp from'../SIGNUP/SignUp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),alertM=_useState6[0],setAlertM=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),users=_useState8[0],setUsers=_useState8[1];function getUsers(){return _getUsers.apply(this,arguments);}//  if(window.location == '/'){\nfunction _getUsers(){_getUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get('/get/users');case 2:_context.next=4;return _context.sent.data;case 4:data=_context.sent;setUsers(data);console.log(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getUsers.apply(this,arguments);}function setAuth(){sessionStorage.setItem('email','');}useEffect(function(){setAuth();},[]);//  }\nfunction findTargetUser(){var targetUser=users.find(function(user){return user.email==email&&user.password==password;});if(targetUser){sessionStorage.setItem('email',targetUser.email);window.location.replace('/home');}else{setAlertM(true);}console.log(targetUser);}useEffect(function(){getUsers();},[]);var classes=useStyles();return/*#__PURE__*/_jsxs(\"div\",{style:{height:'100vh',display:'flex',justifyContent:'center',alignItems:'center',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",style:{fontFamily:'Indie Flower'},align:\"center\",children:\"Login\"}),/*#__PURE__*/_jsxs(Card,{className:classes.root,style:{width:'80vh'},children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:FOODBG}),/*#__PURE__*/_jsxs(Grid,{container:true,style:{display:'flex',padding:'20px',width:'100%',flexDirection:'column',justifyContent:'flex-start',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:6,xs:12,children:alertM&&/*#__PURE__*/_jsxs(Paper,{style:{width:'250px',height:'40px',padding:'4px',display:'flex',justifyContent:'center',alignItems:'center',background:'red',color:'white',marginRight:'30px'},align:\"center\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{alignSelf:'flex-end',justifyContent:'flex-start'},children:\"ISKA HUBI emailka iyo passwordka\"}),\" \",/*#__PURE__*/_jsx(CloseIcon,{onClick:function onClick(){return setAlertM(false);},titleAccess:\"xir\",style:{background:'red',alignSelf:'flex-start',cursor:'pointer'}}),\" \"]})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:6,xs:12,style:{alignSelf:'flex-start'},children:/*#__PURE__*/_jsx(TextField,{required:true,placeholder:\"email\",type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},style:{width:'200px',padding:'10px',fontSize:\"30px\"}})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:6,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,placeholder:\"password\",type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},style:{width:'200px',padding:'10px',fontSize:'100px'}})}),/*#__PURE__*/_jsxs(Grid,{item:true,sm:12,xs:12,children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{width:'180px',height:'30px'},onClick:function onClick(){findTargetUser();},children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:'10px'},children:\"akoon malihi:\"}),/*#__PURE__*/_jsx(Link,{to:\"/signUp\",children:\"SignUp\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},children:/*#__PURE__*/_jsx(Link,{to:\"/forgetpassword\",children:\"forget password\"})})]})]})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","TextField","Typography","Grid","Button","Card","CardMedia","CardContent","CardActions","IconButton","Paper","FOODBG","useStyles","api","CloseIcon","Link","SignUp","Login","email","setEmail","password","setPassword","alertM","setAlertM","users","setUsers","getUsers","get","data","console","log","setAuth","sessionStorage","setItem","findTargetUser","targetUser","find","user","window","location","replace","classes","height","display","justifyContent","alignItems","flexDirection","fontFamily","root","width","media","padding","background","color","marginRight","alignSelf","cursor","e","target","value","fontSize","marginTop"],"sources":["C:/Users/hp/Desktop/maqaayo/projectmaqaayo/FRONTEND/src/COMPONENTS/AUTHENTICATION/LOGIN/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { TextField, Typography, Grid, Button } from '@material-ui/core'\r\nimport { Card, CardMedia, CardContent, CardActions, IconButton, Paper } from '@material-ui/core';\r\nimport FOODBG from './foodBackgroundImage.jpg'\r\nimport useStyles from './style'\r\nimport { api } from '../../axiosSetup';\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { Link } from 'react-router-dom'\r\nimport SignUp from '../SIGNUP/SignUp';\r\nfunction Login() {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [alertM, setAlertM] = useState(false)\r\n    const [users, setUsers] = useState()\r\n    async function getUsers(){\r\n        const data = await (await api.get('/get/users')).data\r\n        setUsers(data)\r\n        console.log(data)\r\n    }\r\n    \r\n//  if(window.location == '/'){\r\n  function setAuth(){\r\n\r\n    sessionStorage.setItem('email', '')\r\n    \r\n  }\r\n  useEffect(()=>{\r\n   setAuth()\r\n  }, [])\r\n//  }\r\n    function findTargetUser(){\r\n        const targetUser = users.find(user=> user.email == email && user.password == password)\r\n        if(targetUser){\r\n            sessionStorage.setItem('email', targetUser.email)\r\n           window.location.replace('/home')\r\n        }else{\r\n                   setAlertM(true)\r\n                }\r\n        console.log(targetUser)\r\n    }\r\n    useEffect(()=>{\r\n         getUsers()   \r\n    }, [])\r\n \r\n    const classes = useStyles()\r\n  return (\r\n    <div style={{ height:'100vh', display:'flex', justifyContent:'center', alignItems:'center', flexDirection:'column'}}>\r\n    <Typography variant=\"h4\" style={{fontFamily:'Indie Flower'}}  align='center'>Login</Typography>\r\n\r\n    <Card className={classes.root}  style={{width:'80vh'}}>\r\n      <CardMedia className={classes.media} image={FOODBG}  />\r\n      {/* <CardContent> */}\r\n      <Grid container style={{display:'flex', padding:'20px', width:'100%', flexDirection:'column', justifyContent:'flex-start', alignItems:'flex-start'}}>\r\n       <Grid item sm={6}  xs={12}>\r\n        {alertM && <Paper style={{width:'250px', height:'40px', padding:'4px', display:'flex', justifyContent:'center', alignItems:'center', background:'red', color:'white', marginRight:'30px'}} align='center' > <span style={{alignSelf:'flex-end', justifyContent:'flex-start'}}>ISKA HUBI emailka iyo passwordka</span> <CloseIcon onClick={()=>setAlertM(false)} titleAccess='xir'  style={{background:'red', alignSelf:'flex-start', cursor:'pointer'}}/> </Paper>}\r\n        </Grid> \r\n        <Grid item sm={6} xs={12}  style={{alignSelf:'flex-start'}}>\r\n          <TextField required placeholder='email' type='email'  onChange={(e)=>setEmail(e.target.value)} style={{width:'200px', padding:'10px', fontSize:\"30px\"}} />\r\n        </Grid>\r\n        <Grid item sm={6} xs={12}>\r\n        <TextField required placeholder='password' type='password' onChange={(e)=>setPassword(e.target.value)} style={{width:'200px', padding:'10px',fontSize:'100px'}} />\r\n        </Grid>\r\n        \r\n        <Grid item sm={12} xs={12}>\r\n          <Button variant='contained' style={{width:'180px', height:'30px'}} onClick={()=>{\r\n            findTargetUser()\r\n          }}>Login</Button>\r\n          <div style={{marginTop:'10px'}}>\r\n          <span style={{marginRight:'10px'}}>akoon malihi:</span>\r\n          <Link to='/signUp'>SignUp</Link>\r\n          </div>\r\n          <div style={{marginTop:'10px'}}>\r\n          <Link to='/forgetpassword'>forget password</Link>\r\n          </div>\r\n          \r\n        </Grid>\r\n    </Grid>\r\n      {/* </CardContent> */}\r\n\r\n    </Card>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}